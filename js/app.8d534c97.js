(function(t){function e(e){for(var r,s,n=e[0],c=e[1],l=e[2],u=0,d=[];u<n.length;u++)s=n[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],r=!0,s=1;s<o.length;s++){var n=o[s];0!==a[n]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=o[0]))}return t}var r={},s={app:0},a={app:0},i=[];function n(t){return c.p+"js/"+({settings:"settings"}[t]||t)+"."+{settings:"632295cb"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(t){var e=[],o={settings:1};s[t]?e.push(s[t]):0!==s[t]&&o[t]&&e.push(s[t]=new Promise((function(e,o){for(var r="css/"+({settings:"settings"}[t]||t)+"."+{settings:"8da33fca"}[t]+".css",a=c.p+r,i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var l=i[n],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===a))return e()}var d=document.getElementsByTagName("style");for(n=0;n<d.length;n++){l=d[n],u=l.getAttribute("data-href");if(u===r||u===a)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete s[t],p.parentNode.removeChild(p),o(i)},p.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){s[t]=0})));var r=a[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,o){r=a[t]=[e,o]}));e.push(r[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=n(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var o=a[t];if(0!==o){if(o){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",d.name="ChunkLoadError",d.type=r,d.request=s,o[1](d)}a[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(o,r,function(e){return t[e]}.bind(null,r));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/PixelBot-Designer/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0542":function(t,e,o){"use strict";var r=o("b91f"),s=o.n(r);s.a},"0c0d":function(t,e,o){"use strict";var r=o("3790"),s=o.n(r);s.a},"127d":function(t,e,o){"use strict";(function(t){o("6b54"),o("ac4d"),o("8a81"),o("ac6a"),o("456d"),o("7514");var r=o("714b"),s=o("3677"),a=o("d7ac"),i=o.n(a);function n(t){for(var e=void 0,o=void 0,r="",s=0;s<t.length;s++)"undefined"!==typeof e?t[s]===e?o++:(r+=o+e,e=t[s],o=1):(e=t[s],o=1);return r+(o+e)}function c(t,e){return Object.keys(t).find((function(o){return t[o]===e}))}e["a"]={components:{Modal:r["a"]},mixins:[s["a"]],data:function(){return{error:null,screen:"singular"}},methods:{getAllGrids:function(){for(var t=[],e=1;e<this.$store.state.workspace.grids.length+1;e++){var o=this.getGrid(e);o.length>500&&(this.error="One or more of the grids are over the Twitch character limit and have been highlighted."),t.push(o)}return t},getAllAnimatedGrids:function(){var t=[],e=!0,o=!1,r=void 0;try{for(var s,a=this.$store.state.workspace.frames[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){var i=s.value,n=[],c=!0,l=!1,u=void 0;try{for(var d,p=i[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;n.push(this.convertToSerpentine(f))}}catch(m){l=!0,u=m}finally{try{c||null==p.return||p.return()}finally{if(l)throw u}}t.push(n.join("."))}}catch(m){o=!0,r=m}finally{try{e||null==a.return||a.return()}finally{if(o)throw r}}return t},getGrid:function(t){var e=this.$store.state.workspace.grids[t-1].export();return this.log("Export","Gotten Grid "+t),this.convertToSerpentine(e)},convertToSerpentine:function(t){var e=[],o=0,r=!0,s=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){for(var u=i.value,d=0;d<u.length;d++){var p=this.$root.pixelMap[o][d];e[p]=c(this.$root.palette,t[o][d])}o++}}catch(f){s=!0,a=f}finally{try{r||null==l.return||l.return()}finally{if(s)throw a}}return n(e.join(""))},getAnimationOfGrid:function(t){var e=[],o=!0,r=!1,s=void 0;try{for(var a,i=this.$store.state.workspace.frames[Symbol.iterator]();!(o=(a=i.next()).done);o=!0){var n=a.value;e.push(this.convertToSerpentine(n[t-1]))}}catch(c){r=!0,s=c}finally{try{o||null==i.return||i.return()}finally{if(r)throw s}}return e.join(".")},toGZip:function(e){return new t(i.a.gzip(e)).toString("base64")}}}}).call(this,o("b639").Buffer)},2513:function(t,e,o){"use strict";(function(t){o("4917"),o("ac4d"),o("8a81"),o("ac6a"),o("28a5"),o("a481");var r=o("d7ac"),s=o.n(r),a=o("714b"),i=o("3677");function n(t){return t.replace(/(\d+)([a-zA-A])/g,(function(t,e,o){var r,s="";for(r=0;r<parseInt(e,10);r++)s+=o;return s}))}function c(t,e){return t.reduce((function(t,o,r){return(r%e?t[t.length-1].push(o):t.push([o]))&&t}),[])}e["a"]={components:{Modal:a["a"]},mixins:[i["a"]],data:function(){return{importText:"",error:null,success:null}},methods:{processImport:function(){this.log("Import","Starting Import");var e=this.importText,o=!1;if("!"===e[0]&&(e=e.substr(1,e.length)),"pbd"===e.substr(0,3)){this.log("Import","Detected all 4 (Uncompressed)");var r=e.split(".");r.shift();var a=0,i=!0,n=!1,l=void 0;try{for(var u,d=r[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var p=u.value;this.$store.state.workspace.grids[a].import(this.convertFromSerpentine(p)),a++}}catch(D){n=!0,l=D}finally{try{i||null==d.return||d.return()}finally{if(n)throw l}}}else if("pbaz"===e.substr(0,4)){this.log("Import","Detected all 4 animated (Compressed)");var f=s.a.inflate(new t(e.slice(5),"base64"),{to:"string"}).split(".");(f.length-1)%4!==0&&(this.error="Number of panels isn't divisible by 4.",o=!0,this.log("Import","Number of panels isn't divisible by 4."));var m=c(f.slice(1),4),h=0,g=!0,v=!1,w=void 0;try{for(var b,y=m[Symbol.iterator]();!(g=(b=y.next()).done);g=!0){var k=b.value,$=0,C=!0,x=!1,S=void 0;try{for(var _,I=k[Symbol.iterator]();!(C=(_=I.next()).done);C=!0){var E=_.value;void 0===this.$store.state.workspace.frames[h]&&(this.$store.state.workspace.frames[h]=JSON.parse(JSON.stringify(this.$store.state.workspace.blankFrame))),this.$store.state.workspace.frames[h][$]=this.convertFromSerpentine(E),$++}}catch(D){x=!0,S=D}finally{try{C||null==I.return||I.return()}finally{if(x)throw S}}h++}}catch(D){v=!0,w=D}finally{try{g||null==y.return||y.return()}finally{if(v)throw w}}this.$root.$emit("frameSwitch",0)}else e.match(/pb(1|2|3|4)d/)?(this.log("Import","Detected singular"),this.$store.state.workspace.grids[parseInt(e.substr(2,1))-1].import(this.convertFromSerpentine(e.split(".")[1])),this.success="Successfully Imported."):(this.error="Invalid command.",o=!0,this.log("Import","Invalid command","error"));o||(this.log("Import","Imported Successfully!"),this.success="Successfully Imported.")},convertFromSerpentine:function(t){var e=[],o=n(t),r=!0,s=!1,a=void 0;try{for(var i,c=this.$root.pixelMap[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value,u=[],d=!0,p=!1,f=void 0;try{for(var m,h=l[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var g=m.value;u.push(this.$root.palette[o[g-1]])}}catch(v){p=!0,f=v}finally{try{d||null==h.return||h.return()}finally{if(p)throw f}}e.push(u)}}catch(v){s=!0,a=v}finally{try{r||null==c.return||c.return()}finally{if(s)throw a}}return e}}}}).call(this,o("b639").Buffer)},"27f1":function(t,e,o){},"28c6":function(t,e,o){"use strict";var r=o("cb2d"),s=o.n(r);s.a},3282:function(t,e,o){},3677:function(t,e,o){"use strict";function r(t,e,o){if("Build"===t){var r={background:null,color:null};if(null==o)r.background="#ffcd00",r.color="#000";else switch(o){case"error":r.background="#c0392b",r.color="#fff";break;case"warn":r.background="#d35400",r.color="#fff";break;case"success":r.background="#2ecc71",r.color="#000";break;default:r=o}console.log("%c ".concat(t," %c ").concat(e," "),"background: ".concat(r.background,"; color: ").concat(r.color,"; border-radius: 3px 0 0 3px;"),"background: #333; color: #fff; border-radius: 0 3px 3px 0;")}}e["a"]={methods:{log:r},log:r}},3790:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var r=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},a=[],i=(o("5c0b"),o("2877")),n={},c=Object(i["a"])(n,s,a,!1,null,null,null),l=c.exports,u=o("ecee"),d=o("c074"),p=o("ad3d"),f=o("8c4f"),m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return null!==t.layout?o("div",{staticClass:"workspace"},[t.modals.import?o("import",{on:{close:function(e){t.modals.import=!1}}}):t._e(),t.modals.export?o("export",{on:{close:function(e){t.modals.export=!1}}}):t._e(),o("portal",{attrs:{to:"toolbox-"+t.layout.toolbox}},[o("toolbox",{attrs:{mounted:t.layout.toolbox},on:{toggleImport:function(e){t.modals.import=!0},toggleExport:function(e){t.modals.export=!0}}})],1),o("portal",{attrs:{to:"timeline-"+t.layout.timeline}},[t.$store.state.workspace.timeline?o("timeline"):t._e()],1),o("mounting-points",[o("div",{staticClass:"gridContainer"},[o("div",{staticClass:"gridRow"},[o("grid",{attrs:{"grid-id":0,sizey:12,sizex:12}}),o("grid",{attrs:{"grid-id":1,sizey:12,sizex:12}})],1),o("div",{staticClass:"gridRow"},[o("grid",{attrs:{"grid-id":2,sizey:12,sizex:12}}),o("grid",{attrs:{"grid-id":3,sizey:12,sizex:12}})],1)])])],1):t._e()},h=[],g=(o("ac4d"),o("8a81"),o("ac6a"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return null!==t.style?o("div",{staticClass:"grid"},t._l(t.sizey,(function(e){return o("div",{key:e,staticClass:"row"},t._l(t.sizex,(function(r){return o("div",{key:r,style:t.style,attrs:{draggable:"false","data-row":e,"data-index":r},on:{dragstart:function(t){t.preventDefault()},mouseup:t.useTool,mouseover:t.dragDraw,mouseleave:t.dragDraw}})})),0)})),0):t._e()}),v=[];o("a481"),o("6b54"),o("4917");function w(t){function e(t){return("0"+parseInt(t).toString(16)).slice(-2)}return t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+e(t[1])+e(t[2])+e(t[3])}function b(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,(function(t,e,o,r){return e+e+o+o+r+r}));var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return o?"rgb("+parseInt(o[1],16)+", "+parseInt(o[2],16)+", "+parseInt(o[3],16)+")":null}function y(t,e,o){var r={row:parseInt(t.attributes["data-row"].nodeValue),column:parseInt(t.attributes["data-index"].nodeValue),colour:w(t.style.backgroundColor)};if(o&&(r.colour=o),r.column-1>=1){var s=e.$el.querySelector("div[data-row='".concat(r.row,"'][data-index='").concat(r.column-1,"']"));k(r.colour,e.$store.state.workspace.colour,s,e)}if(r.column+1<=e.sizex){var a=e.$el.querySelector("div[data-row='".concat(r.row,"'][data-index='").concat(r.column+1,"']"));k(r.colour,e.$store.state.workspace.colour,a,e)}if(r.row-1>=1){var i=e.$el.querySelector("div[data-row='".concat(r.row-1,"'][data-index='").concat(r.column,"']"));k(r.colour,e.$store.state.workspace.colour,i,e)}if(r.row+1<=e.sizey){var n=e.$el.querySelector("div[data-row='".concat(r.row+1,"'][data-index='").concat(r.column,"']"));k(r.colour,e.$store.state.workspace.colour,n,e)}}function k(t,e,o,r){if(w(o.style.backgroundColor)===t){var s=o.style.backgroundColor;return o.style.backgroundColor=e,y(o,r,w(s)),!0}}var $={name:"grid",props:["sizex","sizey"],data:function(){return{style:null,gridID:null}},methods:{useTool:function(t,e,o){switch(e||(t=t.target),this.$store.state.workspace.tool){case"pen":t.style.backgroundColor=this.$store.state.workspace.colour,this.$root.$emit("gridUpdated",this.gridID);break;case"eraser":t.style.backgroundColor="#000",this.$root.$emit("gridUpdated",this.gridID);break;case"eyedropper":this.$root.$emit("customColourChange",w(t.style.backgroundColor));break;case"fill":if(o)return;if(b(this.$store.state.workspace.colour)==t.style.backgroundColor)return;y(t,this),t.style.backgroundColor=this.$store.state.workspace.colour,this.$root.$emit("gridUpdated",this.gridID);break}},dragDraw:function(t){this.$store.state.workspace.drawing&&this.useTool(t,!1,!0)},export:function(){for(var t=[],e=1;e<this.sizey+1;e++){for(var o=[],r=1;r<this.sizex+1;r++)o.push(w(this.$el.querySelector("div[data-row='".concat(e,"'][data-index='").concat(r,"']")).style.backgroundColor));t.push(o)}return t},import:function(t){for(var e=1;e<this.sizey+1;e++)for(var o=1;o<this.sizex+1;o++)this.$el.querySelector("div[data-row='".concat(e,"'][data-index='").concat(o,"']")).style.backgroundColor=t[e-1][o-1];this.$root.$emit("gridUpdated",this.gridID)}},created:function(){this.gridID=this.$attrs["grid-id"],this.style={display:"table-cell",width:this.$store.state.settings.pixelSize+"px",height:this.$store.state.settings.pixelSize+"px",minWidth:this.$store.state.settings.pixelSize+"px",minHeight:this.$store.state.settings.pixelSize+"px",backgroundColor:"#000"},this.$root.$on("gridUpdated",(function(t){this.$store.state.workspace.frames[this.$store.state.workspace.currentFrame][t]=this.$store.state.workspace.grids[t].export()}))}},C=$,x=(o("c020"),Object(i["a"])(C,g,v,!1,null,"3d959116",null)),S=x.exports,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"toolbox",class:"mounted-"+t.mounted},[o("div",{staticClass:"tools"},[t._l(t.tools,(function(e){return o("div",{key:e.ID,staticClass:"tool",class:{active:t.isSelected(e.name)},attrs:{title:e.hover},on:{click:function(o){t.$store.state.workspace.tool=e.name}}},[o("font-awesome-icon",{staticClass:"icon",attrs:{icon:e.icon}})],1)})),o("colour-switcher",{staticClass:"tool",on:{colourChange:t.colourChange}}),o("div",{staticClass:"end"},[o("div",{staticClass:"spacer"},[o("div",{staticClass:"tool",attrs:{title:"Import"},on:{click:function(e){return t.$emit("toggleImport",!0)}}},[o("font-awesome-icon",{staticClass:"icon",attrs:{icon:"file-import"}})],1),o("div",{staticClass:"tool",attrs:{title:"Export"},on:{click:function(e){return t.$emit("toggleExport",!0)}}},[o("font-awesome-icon",{staticClass:"icon",attrs:{icon:"file-export"}})],1)]),o("div",{staticClass:"tool",class:{active:t.$store.state.workspace.timeline},attrs:{title:"Animation Timeline"},on:{click:t.toggleTimeline}},[o("font-awesome-icon",{staticClass:"icon",attrs:{icon:"layer-group"}})],1),o("router-link",{staticClass:"tool",attrs:{to:"/settings",title:"Settings"}},[o("font-awesome-icon",{staticClass:"icon",attrs:{icon:"cog"}})],1)],1)],2)])},I=[],E=(o("7f7f"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"switcher"},[o("div",{staticClass:"foreground colour active",style:{backgroundColor:t.colours.foreground},on:{click:t.showColourSelector}}),o("div",{staticClass:"background colour",style:{backgroundColor:t.colours.background},on:{click:t.showColourSelector}}),o("div",{staticClass:"swapColours",attrs:{title:"Swap Colours (x)"},on:{click:t.switchColours}},[o("font-awesome-icon",{attrs:{icon:"level-down-alt"}})],1),o("colour-popout",{directives:[{name:"show",rawName:"v-show",value:t.popout.show,expression:"popout.show"}],style:t.popoutStyle,attrs:{changing:t.popout.switching},on:{selectColour:t.changeColour}})],1)}),D=[],A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"popout"},[o("div",{staticClass:"colourList"},[o("div",{staticClass:"title"},[t._v("Changing colour for: "+t._s(t.changing))]),t._l(t.$root.palette,(function(e,r){return o("div",{key:e.ID,staticClass:"swatch",style:{backgroundColor:e},attrs:{"data-key":r},on:{click:function(o){return t.$emit("selectColour",{name:r,colour:e})}}})}))],2)])},T=[],N={name:"colourpopout",props:["changing"]},O=N,P=(o("e757"),Object(i["a"])(O,A,T,!1,null,"4be97d5b",null)),F=P.exports,j={name:"ColourSwitcher",props:["popoutStyle"],components:{ColourPopout:F},data:function(){return{displayOptions:{size:45},colours:{foreground:"#fff",background:"#000"},popout:{show:!1,switching:null}}},created:function(){this.$root.registerKeybind("x",this.switchColours),this.$emit("colourChange",this.colours.foreground),this.$root.$on("customColourChange",function(t){this.colours.foreground=t,this.$emit("colourChange",this.colours.foreground)}.bind(this))},methods:{switchColours:function(){var t=this.colours.foreground;this.colours.foreground=this.colours.background,this.colours.background=t,this.$emit("colourChange",this.colours.foreground)},showColourSelector:function(t){var e=t.target.classList[0];"background"!==e&&"foreground"!==e||(e!=this.popout.switching?(this.popout.switching=e,this.popout.show=!0):(this.popout.switching=null,this.popout.show=!1))},changeColour:function(t){this.colours[this.popout.switching]=t.colour,this.$emit("colourChange",this.colours.foreground)}}},z=j,G=(o("cc85"),Object(i["a"])(z,E,D,!1,null,"75a7b4dd",null)),L=G.exports,M={name:"toolbox",props:["mounted"],components:{ColourSwitcher:L},data:function(){return{tools:[{name:"pen",icon:"pen",hover:"Pen (b)",bind:"b"},{name:"eraser",icon:"eraser",hover:"Eraser (e)",bind:"e"},{name:"eyedropper",icon:"eye-dropper",hover:"Eye dropper (i)",bind:"i"},{name:"fill",icon:"fill",hover:"Fill Bucket (g)",bind:"g"}]}},methods:{isSelected:function(t){return this.$store.state.workspace.tool==t},toggleTimeline:function(){this.$store.commit("workspace/toggleTimeline",null,{root:!0})},colourChange:function(t){this.$store.state.workspace.colour=t}},created:function(){var t=this,e=!0,o=!1,r=void 0;try{for(var s,a=function(){var e=s.value;e.bind&&t.$root.registerKeybind(e.bind,function(){this.$store.state.workspace.tool=e.name}.bind(t))},i=this.tools[Symbol.iterator]();!(e=(s=i.next()).done);e=!0)a()}catch(n){o=!0,r=n}finally{try{e||null==i.return||i.return()}finally{if(o)throw r}}}},B=M,U=(o("0542"),Object(i["a"])(B,_,I,!1,null,"7254222e",null)),J=U.exports,K=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"timeline",class:{sideways:t.isSideways}},[o("div",{staticClass:"animationControl"},[o("div",{staticClass:"left"},[t._v("\n            Delay: "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.workspace.animationDelay,expression:"$store.state.workspace.animationDelay"}],attrs:{type:"number"},domProps:{value:t.$store.state.workspace.animationDelay},on:{input:function(e){e.target.composing||t.$set(t.$store.state.workspace,"animationDelay",e.target.value)}}}),t._v(" ms\n        ")]),o("div",{staticClass:"right"},[o("font-awesome-icon",{staticClass:"clickable",attrs:{label:"Paste",icon:"paste"},on:{click:t.pasteFrame}}),o("font-awesome-icon",{staticClass:"clickable",staticStyle:{"margin-right":"20px"},attrs:{label:"Copy",icon:"copy"},on:{click:t.copyFrame}}),o("font-awesome-icon",{staticClass:"clickable",attrs:{label:"Step Backward (1)",icon:"step-backward"},on:{click:function(e){return t.controlPlayer("backward")}}}),o("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!t.playing,expression:"!playing"}],staticClass:"clickable",attrs:{label:"Play (SPACE)",icon:"play"},on:{click:function(e){return t.controlPlayer("start")}}}),o("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.playing,expression:"playing"}],staticClass:"clickable",attrs:{label:"Stop (SPACE)",icon:"stop"},on:{click:function(e){return t.controlPlayer("stop")}}}),o("font-awesome-icon",{staticClass:"clickable",attrs:{label:"Step Forward (2)",icon:"step-forward"},on:{click:function(e){return t.controlPlayer("forward")}}})],1)]),o("div",{staticClass:"frames"},[t._l(t.$store.state.workspace.frames,(function(e,r){return o("div",{key:r,staticClass:"frame",class:{selected:t.$store.state.workspace.currentFrame==r}},[o("div",{staticClass:"header"},[o("span",{staticClass:"clickable",on:{click:function(e){return t.$root.$emit("frameSwitch",r)}}},[t._v(t._s(r+1))]),o("div",{staticClass:"clickable",staticStyle:{"margin-left":"auto"},on:{click:function(e){return t.deleteFrame(r)}}},[o("font-awesome-icon",{attrs:{icon:"trash"}})],1)]),o("div",{staticClass:"preview clickable",on:{click:function(e){return t.$root.$emit("frameSwitch",r)}}},[o("div",{staticClass:"gridRow"},[o("preview",{attrs:{grid:e[0]}}),o("preview",{attrs:{grid:e[1]}})],1),o("div",{staticClass:"gridRow"},[o("preview",{attrs:{grid:e[2]}}),o("preview",{attrs:{grid:e[3]}})],1)])])})),o("div",{staticClass:"frame clickable"},[o("div",{staticClass:"preview addFrame",on:{click:t.addFrame}},[o("font-awesome-icon",{attrs:{icon:"plus"}})],1)])],2)])},q=[],R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"grid"},t._l(t.grid,(function(e){return o("div",{key:e.ID,staticClass:"row"},t._l(e,(function(t){return o("div",{key:t.ID,staticClass:"pixel",style:{backgroundColor:t},attrs:{draggable:"false"},on:{dragstart:function(t){t.preventDefault()}}})})),0)})),0)},Z=[],H={props:["grid"]},V=H,X=(o("d041"),Object(i["a"])(V,R,Z,!1,null,"6e638184",null)),Y=X.exports,W=o("3677"),Q={name:"timeline",components:{Preview:Y},data:function(){return{selected:null,player:null,playing:!1}},computed:{isSideways:function(){var t=this.$store.state.settings.layout.timeline;return"bottom"===t||"top"===t}},methods:{update:function(){this.$forceUpdate()},select:function(t){this.selected===t?this.selected=null:this.selected=t},deleteFrame:function(t){if(1===this.$store.state.workspace.frames.length)return W["a"].log("Timeline","You can't delete your only frame!","error"),!1;this.$store.state.workspace.frames.splice(t,1)},addFrame:function(){this.$store.state.workspace.frames.push(JSON.parse(JSON.stringify(this.$store.state.workspace.blankFrame))),this.update()},playerTick:function(){var t=this.$store.state.workspace.frames.length,e=this.$store.state.workspace.currentFrame;e+1>t-1?this.$root.$emit("frameSwitch",0):this.$root.$emit("frameSwitch",e+1)},controlPlayer:function(t){switch(t){case"start":this.player=setInterval(this.playerTick,this.$store.state.workspace.animationDelay),this.playing=!0;break;case"stop":clearInterval(this.player),this.playing=!1;break;case"backward":this.$store.state.workspace.currentFrame-1<0?this.$root.$emit("frameSwitch",this.$store.state.workspace.frames.length-1):this.$root.$emit("frameSwitch",this.$store.state.workspace.currentFrame-1);break;case"forward":this.$store.state.workspace.currentFrame+1>this.$store.state.workspace.frames.length-1?this.$root.$emit("frameSwitch",0):this.$root.$emit("frameSwitch",this.$store.state.workspace.currentFrame+1);break}},copyFrame:function(){this.$store.commit("settings/setClipboard",this.$store.state.workspace.frames[this.$store.state.workspace.currentFrame],{root:!0})},pasteFrame:function(){var t=this.$store.state.settings.clipboard;if(null!==t&&void 0!==t)for(var e=0;e<t.length;e++)this.$store.state.workspace.grids[e].import(t[e])}},created:function(){this.$root.$on("gridUpdated",this.update),this.$root.registerKeybind(" ",function(){this.playing?this.controlPlayer("stop"):this.controlPlayer("start")}.bind(this)),this.$root.registerKeybind("1",function(){this.controlPlayer("backward")}.bind(this)),this.$root.registerKeybind("2",function(){this.controlPlayer("forward")}.bind(this))}},tt=Q,et=(o("bd36"),Object(i["a"])(tt,K,q,!1,null,"5fdc9939",null)),ot=et.exports,rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mounts"},[t._l(t.points,(function(t){return o("portal-target",{key:t.ID,attrs:{name:t+"-left"}})})),o("div",{staticClass:"centred"},[t._l(t.points,(function(t){return o("portal-target",{key:t.ID,attrs:{name:t+"-top"}})})),t._t("default"),t._l(t.points,(function(t){return o("portal-target",{key:t.ID,staticClass:"bottom",attrs:{name:t+"-bottom"}})}))],2),t._l(t.points,(function(t){return o("portal-target",{key:t.ID,attrs:{name:t+"-right"}})}))],2)},st=[],at={name:"MountingPoints",data:function(){return{points:["toolbox","timeline"]}},mounted:function(){this.$store.state.workspace.grids=this.$children.filter((function(t){return"grid"==t.$el.className})),this.$root.$emit("gridsRegistered")}},it=at,nt=(o("7f45"),Object(i["a"])(it,rt,st,!1,null,"3bcdb9bf",null)),ct=nt.exports,lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal",{on:{close:function(e){return t.$emit("close")}}},[o("template",{slot:"header"},[t._v("Import")]),o("template",{slot:"body"},[o("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.error,expression:"error !== null"}],staticClass:"alert-danger"},[t._v(t._s(t.error))]),o("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.success,expression:"success !== null"}],staticClass:"alert-success"},[t._v(t._s(t.success))]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.importText,expression:"importText"}],staticClass:"inputArea",attrs:{spellcheck:"false",autocomplete:"false",autofocus:"true"},domProps:{value:t.importText},on:{input:function(e){e.target.composing||(t.importText=e.target.value)}}}),o("button",{staticClass:"submit",on:{click:t.processImport}},[t._v("Import")])])],2)},ut=[],dt=o("2513"),pt=dt["a"],ft=(o("28c6"),Object(i["a"])(pt,lt,ut,!1,null,"78013840",null)),mt=ft.exports,ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal",{on:{close:function(e){return t.$emit("close")}}},[o("template",{slot:"header"},[t._v("Export")]),o("template",{slot:"body"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.screen,expression:"screen"}],on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.screen=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"singular"}},[t._v("Singular")]),o("option",{attrs:{value:"animation"}},[t._v("Animation")])]),o("div",{directives:[{name:"show",rawName:"v-show",value:"singular"===t.screen,expression:"screen === 'singular'"}]},[o("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.error,expression:"error !== null"}],staticClass:"alert-danger"},[t._v(t._s(t.error))]),o("div",{staticClass:"copyModule",staticStyle:{"margin-bottom":"20px","margin-top":"10px"}},[o("p",{staticClass:"copyArea"},[t._v("!pbd."+t._s(t.getAllGrids().join(".")))]),o("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"!pba."+t.getAllGrids().join("."),expression:"'!pba.'+getAllGrids().join('.')",arg:"copy"}],staticClass:"copyButton"},[o("font-awesome-icon",{attrs:{icon:"copy"}})],1)]),t._l(t.getAllGrids(),(function(e,r){return o("div",{key:r,staticClass:"block"},[o("div",{staticClass:"copyModule"},[o("p",{staticClass:"copyArea"},[t._v("!pb"+t._s(r+1)+"d."+t._s(e))]),o("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"!pb"+(r+1)+"d."+e,expression:"'!pb'+(index+1)+'d.'+grid",arg:"copy"}],staticClass:"copyButton",class:{overLimit:e.length>500}},[o("font-awesome-icon",{attrs:{icon:"copy"}})],1)])])}))],2),o("div",{directives:[{name:"show",rawName:"v-show",value:"animation"===t.screen,expression:"screen === 'animation'"}]},[o("div",{staticClass:"copyModule",staticStyle:{"margin-bottom":"20px","margin-top":"10px"}},[o("p",{staticClass:"copyArea"},[t._v("!pbaz."+t._s(t.toGZip(t.$store.state.workspace.animationDelay+"."+t.getAllAnimatedGrids().join("."))))]),o("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"!pbaz."+t.toGZip(t.$store.state.workspace.animationDelay+"."+t.getAllAnimatedGrids().join(".")),expression:"'!pbaz.'+toGZip($store.state.workspace.animationDelay+'.'+getAllAnimatedGrids().join('.'))",arg:"copy"}],staticClass:"copyButton"},[o("font-awesome-icon",{attrs:{icon:"copy"}})],1)]),t._l(t.getAllAnimatedGrids,(function(e,r){return o("div",{key:r,staticClass:"block"},[o("div",{staticClass:"copyModule"},[o("p",{staticClass:"copyArea"},[t._v("!pb"+t._s(r+1)+"a."+t._s(t.$store.state.workspace.animationDelay)+"."+t._s(e))]),o("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"!pb"+(r+1)+"d."+e,expression:"'!pb'+(index+1)+'d.'+grid",arg:"copy"}],staticClass:"copyButton",class:{overLimit:e.length>500}},[o("font-awesome-icon",{attrs:{icon:"copy"}})],1)])])}))],2)])],2)},gt=[],vt=o("127d"),wt=vt["a"],bt=(o("6cdc"),Object(i["a"])(wt,ht,gt,!1,null,"5ceb1ff6",null)),yt=bt.exports,kt={name:"workspace",components:{Grid:S,Toolbox:J,Timeline:ot,MountingPoints:ct,Import:mt,Export:yt},data:function(){return{layout:null,modals:{import:!1,export:!1}}},methods:{dragStart:function(){this.$store.state.workspace.drawing=!0,window.addEventListener("touchmove",this.touchDraw)},dragStop:function(){this.$store.state.workspace.drawing=!1,window.removeEventListener("touchmove",this.touchDraw)},touchDraw:function(t){if(this.$store.state.workspace.drawing){var e=document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY),o=e.parentElement.parentElement;if("grid"==o.className){var r=o.attributes["grid-id"].nodeValue;this.$store.state.workspace.grids[r].useTool(e,!0)}}},isScrolllocked:function(){return this.$store.state.workspace.scrollLocked?{overflow:"hidden"}:{overflow:"auto"}}},mounted:function(){this.layout=this.$store.state.settings.layout,window.addEventListener("mousedown",this.dragStart),window.addEventListener("mouseup",this.dragStop),window.addEventListener("touchstart",this.dragStart),window.addEventListener("touchend",this.dragStop)},created:function(){this.$root.$on("gridsRegistered",(function(){this.$store.state.workspace.blankFrame=[this.$store.state.workspace.grids[0].export(),this.$store.state.workspace.grids[1].export(),this.$store.state.workspace.grids[2].export(),this.$store.state.workspace.grids[3].export()],this.$store.state.workspace.frames[0]=JSON.parse(JSON.stringify(this.$store.state.workspace.blankFrame))})),this.$root.$on("frameSwitch",(function(t){this.$store.commit("workspace/switchFrame",t,{root:!0});var e=-1,o=!0,r=!1,s=void 0;try{for(var a,i=this.$store.state.workspace.grids[Symbol.iterator]();!(o=(a=i.next()).done);o=!0){var n=a.value;e++,n.import(this.$store.state.workspace.frames[t][e])}}catch(c){r=!0,s=c}finally{try{o||null==i.return||i.return()}finally{if(r)throw s}}}))}},$t=kt,Ct=(o("0c0d"),Object(i["a"])($t,m,h,!1,null,null,null)),xt=Ct.exports;r["default"].use(f["a"]);var St=new f["a"]({mode:"history",base:"/PixelBot-Designer/",routes:[{path:"/",name:"home",component:xt},{path:"/settings",name:"settings",component:function(){return o.e("settings").then(o.bind(null,"26d3"))}}]}),_t=o("2b88"),It=o.n(_t),Et=o("4eb5"),Dt=o.n(Et),At=o("2f62");r["default"].use(At["a"]);var Tt={namespaced:!0,state:{tool:"pen",colour:"#000",drawing:!1,scrollLocked:!1,timeline:!1,grids:null,blankFrame:null,frames:[],currentFrame:0,animationDelay:500},mutations:{toggleTimeline:function(t,e){t.timeline=null===e?!t.timeline:e},switchFrame:function(t,e){if(null===t.frames[e])return W["a"].log("Frames","Frame ".concat(e," doesn't exist."),"error"),!1;t.currentFrame=e}}};function Nt(t){localStorage.setItem("settings",JSON.stringify(t))}var Ot={namespaced:!0,state:{pixelSize:35,clipboard:null,layout:{toolbox:"left",timeline:"bottom"}},mutations:{moveToolbox:function(t,e){t.layout.toolbox=e,Nt(t)},moveTimeline:function(t,e){t.layout.timeline=e,Nt(t)},setClipboard:function(t,e){t.clipboard=e,Nt(t)},changePixelSize:function(t,e){e&&(t.pixelSize=e),Nt(t)}},getters:{all:function(t){return t}}},Pt=new At["a"].Store({modules:{workspace:Tt,settings:Ot}});u["c"].add(d["i"],d["l"],d["c"],d["d"],d["g"],d["a"],d["h"],d["r"],d["e"],d["f"],d["j"],d["b"],d["n"],d["s"],d["m"],d["q"],d["o"],d["p"],d["k"]),r["default"].component("font-awesome-icon",p["a"]),r["default"].use(It.a),r["default"].use(Dt.a),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(l)},router:St,store:Pt,data:{keybinds:{},palette:{a:"#ff0000",b:"#008000",c:"#0000ff",d:"#ffffff",e:"#000000",f:"#ffff00",g:"#800000",h:"#800080",i:"#6441a5",j:"#000080",k:"#006400",l:"#ffd700",m:"#f0e68c",n:"#daa520",o:"#00ffff",p:"#008080",q:"#00ced1",r:"#ffa500",s:"#ff8c00",t:"#ff4500",u:"#ffc0cb",v:"#ff1393",w:"#ffa07a",x:"#858d86",y:"#4c504d"},pixelMap:[]},methods:{registerKeybind:function(t,e){"undefined"!==this.keybinds[t.charCodeAt(0)]?W["a"].log("Keybinds","Registered keybind '".concat(t,"'"),"success"):W["a"].log("Keybinds","Registered keybind '".concat(t,"' but overwrote its previous bind."),"success"),this.keybinds[t.charCodeAt(0)]=e,this.keybinds[t.toUpperCase().charCodeAt(0)]=e},findKeybind:function(t){"TEXTAREA"!=document.activeElement.nodeName&&"INPUT"!=document.activeElement.nodeName&&void 0!==this.keybinds[t.which]&&this.keybinds[t.which]()},loadSettings:function(){W["a"].log("Settings","Loading user settings..."),"undefined"!==typeof Storage?(W["a"].log("Settings","User storage is supported"),localStorage.settings||(W["a"].log("Settings","No default settings found, Creating...","warn"),localStorage.settings=JSON.stringify(this.$store.state.settings)),this.$store.state.settings=JSON.parse(localStorage.getItem("settings")),W["a"].log("Settings","Loaded!")):W["a"].log("Settings","User storage is not supported.","error")},createPixelMap:function(){for(var t=[],e=0;e<12;e++){for(var o=[],r=1;r<13;r++)o.push(12*e+r);t[e]=e%2===1?o.reverse():o}this.pixelMap=t.reverse()}},created:function(){W["a"].log("Build","Running in production mode","warn"),document.onkeyup=this.findKeybind,this.loadSettings(),this.createPixelMap()}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";var r=o("e332"),s=o.n(r);s.a},"6cdc":function(t,e,o){"use strict";var r=o("b32e"),s=o.n(r);s.a},"714b":function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container"},[o("div",{staticClass:"modal-header"},[o("h3",[t._t("header",[t._v("Header")])],2)]),o("div",{staticClass:"modal-body"},[t._t("body",[t._v("Body")])],2),o("div",{staticClass:"modal-footer"},[t._t("footer",[o("button",{staticClass:"modal-default-button",on:{click:function(e){return t.$emit("close")}}},[t._v("\n              Close\n            ")])])],2)])])])])},s=[],a={name:"modal"},i=a,n=(o("f210"),o("2877")),c=Object(n["a"])(i,r,s,!1,null,"22feb7e8",null);e["a"]=c.exports},"7b83":function(t,e,o){},"7f45":function(t,e,o){"use strict";var r=o("27f1"),s=o.n(r);s.a},8863:function(t,e,o){},adc0:function(t,e,o){},af35:function(t,e,o){},b32e:function(t,e,o){},b4fc:function(t,e,o){},b91f:function(t,e,o){},bd36:function(t,e,o){"use strict";var r=o("8863"),s=o.n(r);s.a},c020:function(t,e,o){"use strict";var r=o("3282"),s=o.n(r);s.a},cb2d:function(t,e,o){},cc85:function(t,e,o){"use strict";var r=o("7b83"),s=o.n(r);s.a},d041:function(t,e,o){"use strict";var r=o("af35"),s=o.n(r);s.a},e332:function(t,e,o){},e757:function(t,e,o){"use strict";var r=o("adc0"),s=o.n(r);s.a},f210:function(t,e,o){"use strict";var r=o("b4fc"),s=o.n(r);s.a}});
//# sourceMappingURL=app.8d534c97.js.map